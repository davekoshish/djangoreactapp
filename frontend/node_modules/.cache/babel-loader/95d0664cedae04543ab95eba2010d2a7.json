{"ast":null,"code":"import _defineProperty from \"C:\\\\Users\\\\davek\\\\Desktop\\\\Study\\\\Project\\\\django\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/defineProperty\";\nimport _objectSpread from \"C:\\\\Users\\\\davek\\\\Desktop\\\\Study\\\\Project\\\\django\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/objectSpread\";\nimport _slicedToArray from \"C:\\\\Users\\\\davek\\\\Desktop\\\\Study\\\\Project\\\\django\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\davek\\\\Desktop\\\\Study\\\\Project\\\\django\\\\frontend\\\\src\\\\user\\\\Signin.js\";\nimport React, { useState } from 'react';\nimport Base from '../core/Base';\nimport { Link } from \"react-router-dom\";\nimport { signin, authenticate, issAuthenticated } from '../auth/helper';\nvar Signin = function Signin() {\n  var _useState = useState({\n      name: \"\",\n      email: \"\",\n      password: \"\",\n      error: \"\",\n      success: false,\n      loading: false,\n      didRedirect: false\n    }),\n    _useState2 = _slicedToArray(_useState, 2),\n    values = _useState2[0],\n    setValues = _useState2[1];\n  var name = values.name,\n    email = values.email,\n    password = values.password,\n    error = values.error,\n    success = values.success,\n    loading = values.loading,\n    didRedirect = values.didRedirect;\n  var handleChange = function handleChange(name) {\n    return function (event) {\n      setValues(_objectSpread({}, values, _defineProperty({\n        error: false\n      }, name, event.target.value)));\n    };\n  };\n  var onSumit = function onSumit(event) {\n    event.preventDefault();\n    setValues(_objectSpread({}, values, {\n      error: false\n    }));\n    signin({\n      email: email,\n      password: password\n    }).then(function (data) {\n      console.log(\"DATA\", data);\n      if (data.token) {\n        var sessiontoken = data.token;\n        authenticate(sessiontoken, function () {\n          console.log(\"TOKEN ADDED\");\n        });\n      }\n    }).catch(function (e) {\n      return console.log(e);\n    });\n  };\n  var successMessage = function successMessage() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-success\",\n      style: {\n        display: success ? \"\" : \"none\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55,\n        columnNumber: 13\n      }\n    }, \"New account Created Successfully. Please\", /*#__PURE__*/React.createElement(Link, {\n      to: \"/signin\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 17\n      }\n    }, \"Login Now\"))));\n  };\n  var errorMessage = function errorMessage() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"alert alert-danger\",\n      style: {\n        display: error ? \"\" : \"none\"\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 13\n      }\n    }, \"Check all field again\")));\n  };\n  var signInForm = function signInForm() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }, \"    \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 18\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"row\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"col-md-6 offset-sm-3 text-left\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"h2\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, \"Log in\"), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 14\n      }\n    }), /*#__PURE__*/React.createElement(\"form\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 15\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-dark\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 19\n      }\n    }, \"Email\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      value: email,\n      onChange: handleChange(\"email\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"form-group\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }, /*#__PURE__*/React.createElement(\"label\", {\n      className: \"text-dark\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 19\n      }\n    }, \"Password\"), /*#__PURE__*/React.createElement(\"input\", {\n      className: \"form-control\",\n      value: password,\n      onChange: handleChange(\"password\"),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 19\n      }\n    })), /*#__PURE__*/React.createElement(\"button\", {\n      onClick: onSumit,\n      className: \"btn btn-success btn-block\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }\n    }, \"Submit\")), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 119,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 15\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 15\n      }\n    }))));\n  };\n  return /*#__PURE__*/React.createElement(Base, {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 4\n    }\n  }, signInForm());\n};\nexport default Signin;","map":{"version":3,"names":["React","useState","Base","Link","signin","authenticate","issAuthenticated","Signin","name","email","password","error","success","loading","didRedirect","values","setValues","handleChange","event","target","value","onSumit","preventDefault","then","data","console","log","token","sessiontoken","catch","e","successMessage","display","errorMessage","signInForm"],"sources":["C:/Users/davek/Desktop/Study/Project/django/frontend/src/user/Signin.js"],"sourcesContent":["import React, { useState } from 'react'\r\nimport Base from '../core/Base';\r\nimport {Link} from \"react-router-dom\";\r\nimport { signin,authenticate,issAuthenticated } from '../auth/helper';\r\n\r\nconst Signin = ()=> {\r\n\r\n    const[values,setValues]=useState(\r\n        {\r\n            name:\"\",\r\n            email:\"\",\r\n            password:\"\",\r\n            error:\"\",\r\n            success:false,\r\n            loading:false,\r\n            didRedirect:false,\r\n\r\n        }\r\n    )\r\n\r\n    const {name,email,password,error,success,loading,didRedirect}= values;\r\n\r\n    const handleChange = (name) => (event) => {\r\n            setValues({...values,error:false,[name]:event.target.value});\r\n    };\r\n     \r\n    const onSumit = (event) =>\r\n    {\r\n        event.preventDefault();\r\n        setValues({\r\n            ...values,\r\n            error:false,\r\n\r\n        })\r\n        signin({email,password})\r\n        .then(data=>\r\n            {\r\n                console.log(\"DATA\",data);\r\n                if (data.token){\r\n                    let sessiontoken=data.token;\r\n                    authenticate(sessiontoken,()=>\r\n                    {\r\n                        console.log(\"TOKEN ADDED\")\r\n                    })\r\n                }\r\n            })\r\n        .catch(e=>console.log(e));\r\n    }\r\n\r\n    const successMessage = () =>\r\n    {\r\n      return(\r\n        <div className='row'>\r\n          <div className='col-md-6 offset-sm-3 text-left'>\r\n            <div className='alert alert-success'\r\n            style={{display: success ? \"\" :\"none\"}}>\r\n                New account Created Successfully. Please  \r\n                <Link to=\"/signin\">Login Now</Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const errorMessage = () =>\r\n    {\r\n      return(\r\n        <div className='row'>\r\n          <div className='col-md-6 offset-sm-3 text-left'>\r\n            <div className='alert alert-danger'\r\n            style={{display: error ? \"\" :\"none\"}}>\r\n                Check all field again\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n    const signInForm = () =>\r\n    {\r\n      return (\r\n        <div>    <br>\r\n        </br>\r\n        <br>\r\n        </br>\r\n       \r\n        <div className='row'>\r\n             \r\n            <div className='col-md-6 offset-sm-3 text-left'>\r\n            <h2>\r\n              Log in\r\n             </h2>\r\n             <br>\r\n        </br>\r\n              <form>\r\n                \r\n                <div className='form-group'>\r\n                  <label className='text-dark'>\r\n                    Email\r\n                  </label>\r\n                  <input className='form-control' value={email} onChange={handleChange(\"email\")}/>\r\n                  \r\n\r\n                </div>\r\n                <div className='form-group'>\r\n                  <label className='text-dark'>\r\n                    Password\r\n                  </label>\r\n                  <input className='form-control' value={password} onChange={handleChange(\"password\")}/>\r\n                  \r\n\r\n                </div>\r\n                <button  onClick={onSumit} className='btn btn-success btn-block'>\r\n                  Submit\r\n                </button>\r\n              </form>\r\n              <br>\r\n              </br>\r\n              <br>\r\n              </br>\r\n              <br>\r\n              </br>\r\n              <br>\r\n              </br>\r\n              <br>\r\n        </br>\r\n            </div>\r\n        </div>\r\n        </div>\r\n      )\r\n    }\r\n\r\n\r\n\r\n  return (\r\n   <Base>\r\n    {signInForm()}\r\n   </Base>\r\n  )\r\n}\r\n\r\nexport default Signin;"],"mappings":"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"},"metadata":{},"sourceType":"module"}